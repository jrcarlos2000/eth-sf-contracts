{
  "address": "0x7Defa249a8D8De8CA8D53B8D97c87f339dFE75c8",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "contract IWorldID",
          "name": "_worldId",
          "type": "address"
        },
        {
          "internalType": "string",
          "name": "_actionId",
          "type": "string"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [],
      "name": "InvalidNullifier",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "UserNotVerified",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "UserVerified",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "identityCommitment",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "ipfs_uri",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "buyer_addr",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "detail",
          "type": "string"
        }
      ],
      "name": "transactionSubmitted",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "getCurrGroupId",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getWorldIDAddr",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "incrementGroupIds",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "registeredUser",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "ipfs_uri",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "detail",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "storeSignal",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "root",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "nullifierHash",
          "type": "uint256"
        },
        {
          "internalType": "uint256[8]",
          "name": "proof",
          "type": "uint256[8]"
        }
      ],
      "name": "submitNonVerifiedUserTx",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "ipfs_uri",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "detail",
          "type": "string"
        },
        {
          "internalType": "address",
          "name": "buyer_addr",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "storeSignal",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "root",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "nullifierHash",
          "type": "uint256"
        },
        {
          "internalType": "uint256[8]",
          "name": "proof",
          "type": "uint256[8]"
        }
      ],
      "name": "submitVerifiedTx",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "callerAddr",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "root",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "groupIdd",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "nullifierHash",
          "type": "uint256"
        },
        {
          "internalType": "uint256[8]",
          "name": "proof",
          "type": "uint256[8]"
        }
      ],
      "name": "verifyForTaxDeclaration",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "callerAddr",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "groupIdd",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "root",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "nullifierHash",
          "type": "uint256"
        },
        {
          "internalType": "uint256[8]",
          "name": "proof",
          "type": "uint256[8]"
        }
      ],
      "name": "verifyUser",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "transactionHash": "0x5118342c4b02bd8157e6c57b11f34e53353c1ee937e0c39ec7c6647c11caeb7c",
  "receipt": {
    "to": "0x0000000000000000000000000000000000000000",
    "from": "0x41C929802517f5CE1eD0d6684B579F6E44d277b5",
    "contractAddress": "0x7Defa249a8D8De8CA8D53B8D97c87f339dFE75c8",
    "transactionIndex": 0,
    "gasUsed": "1112686",
    "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
    "blockHash": "0x1e7740afe10c41ca29bcf1a67c24e29d2f0a73b4fb8c979f2170ac6fcfe8042d",
    "transactionHash": "0x5118342c4b02bd8157e6c57b11f34e53353c1ee937e0c39ec7c6647c11caeb7c",
    "logs": [],
    "blockNumber": 33801,
    "cumulativeGasUsed": "1112686",
    "status": 1,
    "byzantium": true
  },
  "args": [
    "0xDc01d6C5fC0c4e696e689f244BD5F10aDA38dD9B",
    "wid_test_1234"
  ],
  "numDeployments": 14,
  "solcInputHash": "48d909f41d6100b486e47bf03d9d9fd2",
  "metadata": "{\"compiler\":{\"version\":\"0.8.13+commit.abaa5c0e\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"contract IWorldID\",\"name\":\"_worldId\",\"type\":\"address\"},{\"internalType\":\"string\",\"name\":\"_actionId\",\"type\":\"string\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[],\"name\":\"InvalidNullifier\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"UserNotVerified\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"UserVerified\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"identityCommitment\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"ipfs_uri\",\"type\":\"string\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"buyer_addr\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"detail\",\"type\":\"string\"}],\"name\":\"transactionSubmitted\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"getCurrGroupId\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getWorldIDAddr\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"incrementGroupIds\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"registeredUser\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"ipfs_uri\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"detail\",\"type\":\"string\"},{\"internalType\":\"uint256\",\"name\":\"storeSignal\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"root\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"nullifierHash\",\"type\":\"uint256\"},{\"internalType\":\"uint256[8]\",\"name\":\"proof\",\"type\":\"uint256[8]\"}],\"name\":\"submitNonVerifiedUserTx\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"ipfs_uri\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"detail\",\"type\":\"string\"},{\"internalType\":\"address\",\"name\":\"buyer_addr\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"storeSignal\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"root\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"nullifierHash\",\"type\":\"uint256\"},{\"internalType\":\"uint256[8]\",\"name\":\"proof\",\"type\":\"uint256[8]\"}],\"name\":\"submitVerifiedTx\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"callerAddr\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"root\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"groupIdd\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"nullifierHash\",\"type\":\"uint256\"},{\"internalType\":\"uint256[8]\",\"name\":\"proof\",\"type\":\"uint256[8]\"}],\"name\":\"verifyForTaxDeclaration\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"callerAddr\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"groupIdd\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"root\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"nullifierHash\",\"type\":\"uint256\"},{\"internalType\":\"uint256[8]\",\"name\":\"proof\",\"type\":\"uint256[8]\"}],\"name\":\"verifyUser\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{\"constructor\":{\"params\":{\"_actionId\":\"The action ID for your application\",\"_worldId\":\"The WorldID instance that will verify the proofs\"}},\"submitNonVerifiedUserTx(string,string,uint256,uint256,uint256,uint256[8])\":{\"details\":\"if store is verified\"},\"submitVerifiedTx(string,string,address,uint256,uint256,uint256,uint256[8])\":{\"details\":\"iff user and store are both verified\"}},\"stateVariables\":{\"actionId\":{\"details\":\"The application's action ID\"},\"groupId\":{\"details\":\"The WorldID group ID (1)\"},\"nullifierHashes\":{\"details\":\"Whether a nullifier hash has been used already. Used to prevent double-signaling\"},\"worldId\":{\"details\":\"The WorldID instance that will be used for verifying proofs\"}},\"version\":1},\"userdoc\":{\"errors\":{\"InvalidNullifier()\":[{\"notice\":\"Thrown when attempting to reuse a nullifier\"}]},\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/JomTx.sol\":\"JomTx\"},\"evmVersion\":\"london\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":false,\"runs\":200},\"remappings\":[]},\"sources\":{\"@openzeppelin/contracts/utils/Counters.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts v4.4.1 (utils/Counters.sol)\\n\\npragma solidity ^0.8.0;\\n\\n/**\\n * @title Counters\\n * @author Matt Condon (@shrugs)\\n * @dev Provides counters that can only be incremented, decremented or reset. This can be used e.g. to track the number\\n * of elements in a mapping, issuing ERC721 ids, or counting request ids.\\n *\\n * Include with `using Counters for Counters.Counter;`\\n */\\nlibrary Counters {\\n    struct Counter {\\n        // This variable should never be directly accessed by users of the library: interactions must be restricted to\\n        // the library's function. As of Solidity v0.5.2, this cannot be enforced, though there is a proposal to add\\n        // this feature: see https://github.com/ethereum/solidity/issues/4637\\n        uint256 _value; // default: 0\\n    }\\n\\n    function current(Counter storage counter) internal view returns (uint256) {\\n        return counter._value;\\n    }\\n\\n    function increment(Counter storage counter) internal {\\n        unchecked {\\n            counter._value += 1;\\n        }\\n    }\\n\\n    function decrement(Counter storage counter) internal {\\n        uint256 value = counter._value;\\n        require(value > 0, \\\"Counter: decrement overflow\\\");\\n        unchecked {\\n            counter._value = value - 1;\\n        }\\n    }\\n\\n    function reset(Counter storage counter) internal {\\n        counter._value = 0;\\n    }\\n}\\n\",\"keccak256\":\"0xf0018c2440fbe238dd3a8732fa8e17a0f9dce84d31451dc8a32f6d62b349c9f1\",\"license\":\"MIT\"},\"contracts/JomTx.sol\":{\"content\":\"pragma solidity ^0.8.4;\\n\\nimport { ByteHasher } from './helpers/ByteHasher.sol';\\nimport { IWorldID } from './interfaces/IWorldID.sol';\\nimport \\\"@openzeppelin/contracts/utils/Counters.sol\\\";\\n\\n/*\\n//   @dev JomTx contract, implemented for ETH SF hackathon\\n//   @title JomTx\\n//   @author Carlos Ramos\\n//   @note we infer that everyStore using this contract has already been verified.\\n*/\\ncontract JomTx {\\n    using ByteHasher for bytes;\\n    using Counters for Counters.Counter;\\n\\n    /// @notice Thrown when attempting to reuse a nullifier\\n    error InvalidNullifier();\\n    error UserVerified();\\n    error UserNotVerified();\\n\\n    event transactionSubmitted(uint256 identityCommitment, string ipfs_uri, address buyer_addr, string detail);\\n\\n    /// @dev The WorldID instance that will be used for verifying proofs\\n    IWorldID internal immutable worldId;\\n\\n    /// @dev The application's action ID\\n    uint256 internal immutable actionId;\\n\\n    /// @dev The WorldID group ID (1)\\n    uint256 internal immutable groupId = 1;\\n\\n    /// @dev Whether a nullifier hash has been used already. Used to prevent double-signaling\\n    mapping(uint256 => bool) internal nullifierHashes;\\n    mapping(address => bool) public registeredUser;\\n\\n    // PROTOCOL VARIABLES //\\n    mapping(uint256 => string[]) internal storeTransactions;\\n    mapping(address => string[]) internal userTransactions;\\n\\n    Counters.Counter private groupIds;\\n\\n    /// @param _worldId The WorldID instance that will verify the proofs\\n    /// @param _actionId The action ID for your application\\n    constructor(IWorldID _worldId, string memory _actionId) {\\n        worldId = _worldId;\\n        actionId = abi.encodePacked(_actionId).hashToField();\\n    }\\n\\n    /// @dev if store is verified\\n    function submitNonVerifiedUserTx (\\n        string memory ipfs_uri,\\n        string memory detail,\\n        uint256 storeSignal,\\n        uint256 root,\\n        uint256 nullifierHash,\\n        uint256[8] calldata proof \\n        ) external {\\n\\n        storeTransactions[nullifierHash].push(ipfs_uri);\\n\\n        worldId.verifyProof(\\n            root,\\n            storeSignal,\\n            abi.encodePacked(storeSignal).hashToField(),\\n            nullifierHash,\\n            actionId,\\n            proof\\n        );\\n\\n        emit transactionSubmitted(nullifierHash, ipfs_uri, address(0),detail);\\n    }\\n\\n    /// @dev iff user and store are both verified\\n    function submitVerifiedTx (\\n        string memory ipfs_uri,\\n        string memory detail,\\n        address buyer_addr,\\n        uint256 storeSignal,\\n        uint256 root,\\n        uint256 nullifierHash,\\n        uint256[8] calldata proof\\n        ) external {\\n\\n        require(registeredUser[buyer_addr], \\\"User hasnt been verified\\\");\\n\\n        worldId.verifyProof(\\n            root,\\n            groupId,\\n            abi.encodePacked(storeSignal).hashToField(),\\n            nullifierHash,\\n            actionId,\\n            proof\\n        );\\n\\n        storeTransactions[nullifierHash].push(ipfs_uri);\\n        userTransactions[buyer_addr].push(ipfs_uri);\\n\\n        emit transactionSubmitted(nullifierHash, ipfs_uri, buyer_addr,detail);\\n    }\\n\\n    function verifyUser (\\n        address callerAddr,\\n        uint256 groupIdd,\\n        uint256 root,\\n        uint256 nullifierHash,\\n        uint256[8] calldata proof\\n    ) external {\\n        if (nullifierHashes[nullifierHash]) revert InvalidNullifier();\\n        if (registeredUser[callerAddr]) revert UserVerified();\\n\\n        worldId.verifyProof(\\n            root,\\n            groupId,\\n            abi.encodePacked(callerAddr).hashToField(),\\n            nullifierHash,\\n            actionId,\\n            proof\\n        );\\n\\n        nullifierHashes[nullifierHash] = true;\\n        registeredUser[callerAddr] = true;\\n    }\\n\\n    function verifyForTaxDeclaration(\\n        address callerAddr, \\n        uint256 root,\\n        uint256 groupIdd,\\n        uint256 nullifierHash,\\n        uint256[8] calldata proof\\n    ) external {\\n        if (registeredUser[msg.sender]) revert UserNotVerified();\\n\\n        worldId.verifyProof(\\n            root,\\n            groupId,\\n            abi.encodePacked(callerAddr).hashToField(),\\n            nullifierHash,\\n            actionId,\\n            proof\\n        );\\n    }\\n\\n    function getCurrGroupId() external view returns(uint256) {\\n        return groupIds.current();\\n    }\\n\\n    function incrementGroupIds() external {\\n        groupIds.increment();\\n    }\\n\\n\\n    function getWorldIDAddr () external view returns(address){\\n        return address(worldId);\\n    }\\n}\",\"keccak256\":\"0xf580109d013e820ae5cf679cddd7cb35ca7e5c0034e76efcfc98f29da03245c9\"},\"contracts/helpers/ByteHasher.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.10;\\n\\nlibrary ByteHasher {\\n    /// @dev Creates a keccak256 hash of a bytestring.\\n    /// @param value The bytestring to hash\\n    /// @return The hash of the specified value\\n    /// @dev `>> 8` makes sure that the result is included in our field\\n    function hashToField(bytes memory value) internal pure returns (uint256) {\\n        return uint256(keccak256(abi.encodePacked(value))) >> 8;\\n    }\\n}\\n\",\"keccak256\":\"0x225f0627ac21d07df35533f605936035d74aa0f05a632cb8d150d3af50408cd0\",\"license\":\"MIT\"},\"contracts/interfaces/IWorldID.sol\":{\"content\":\"//SPDX-License-Identifier: MIT\\npragma solidity ^0.8.10;\\n\\ninterface IWorldID {\\n    /// @notice Reverts if the zero-knowledge proof is invalid.\\n    /// @param root The of the Merkle tree\\n    /// @param groupId The id of the Semaphore group\\n    /// @param signalHash A keccak256 hash of the Semaphore signal\\n    /// @param nullifierHash The nullifier hash\\n    /// @param externalNullifierHash A keccak256 hash of the external nullifier\\n    /// @param proof The zero-knowledge proof\\n    /// @dev  Note that a double-signaling check is not included here, and should be carried by the caller.\\n    function verifyProof(\\n        uint256 root,\\n        uint256 groupId,\\n        uint256 signalHash,\\n        uint256 nullifierHash,\\n        uint256 externalNullifierHash,\\n        uint256[8] calldata proof\\n    ) external view;\\n}\\n\",\"keccak256\":\"0x20fc12dea0b817fb8b7bc1a851082676ed2dcb844d3673d60aa5570da3e1b62e\",\"license\":\"MIT\"}},\"version\":1}",
  "bytecode": "0x60e0604052600160c0908152503480156200001957600080fd5b50604051620017973803806200179783398181016040528101906200003f919062000308565b8173ffffffffffffffffffffffffffffffffffffffff1660808173ffffffffffffffffffffffffffffffffffffffff1681525050620000aa816040516020016200008a9190620003bb565b604051602081830303815290604052620000b960201b620009ba1760201c565b60a0818152505050506200043a565b6000600882604051602001620000d0919062000421565b6040516020818303038152906040528051906020012060001c901c9050919050565b6000604051905090565b600080fd5b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000620001338262000106565b9050919050565b6000620001478262000126565b9050919050565b62000159816200013a565b81146200016557600080fd5b50565b60008151905062000179816200014e565b92915050565b600080fd5b600080fd5b6000601f19601f8301169050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b620001d48262000189565b810181811067ffffffffffffffff82111715620001f657620001f56200019a565b5b80604052505050565b60006200020b620000f2565b9050620002198282620001c9565b919050565b600067ffffffffffffffff8211156200023c576200023b6200019a565b5b620002478262000189565b9050602081019050919050565b60005b838110156200027457808201518184015260208101905062000257565b8381111562000284576000848401525b50505050565b6000620002a16200029b846200021e565b620001ff565b905082815260208101848484011115620002c057620002bf62000184565b5b620002cd84828562000254565b509392505050565b600082601f830112620002ed57620002ec6200017f565b5b8151620002ff8482602086016200028a565b91505092915050565b60008060408385031215620003225762000321620000fc565b5b6000620003328582860162000168565b925050602083015167ffffffffffffffff81111562000356576200035562000101565b5b6200036485828601620002d5565b9150509250929050565b600081519050919050565b600081905092915050565b600062000391826200036e565b6200039d818562000379565b9350620003af81856020860162000254565b80840191505092915050565b6000620003c9828462000384565b915081905092915050565b600081519050919050565b600081905092915050565b6000620003f782620003d4565b620004038185620003df565b93506200041581856020860162000254565b80840191505092915050565b60006200042f8284620003ea565b915081905092915050565b60805160a05160c0516112ee620004a96000396000818161045f0152818161066e01526108f8015260008181610271015281816104a9015281816106b801526109420152600081816101970152818161020a015281816104220152818161063101526108bb01526112ee6000f3fe608060405234801561001057600080fd5b50600436106100885760003560e01c80636b5f4d881161005b5780636b5f4d88146101015780636cc92dfc1461011f578063a2055b281461013b578063dfa3bfc51461015757610088565b80630961b61a1461008d57806313aad955146100bd5780632e812c98146100db578063376a2481146100f7575b600080fd5b6100a760048036038101906100a29190610b2a565b610173565b6040516100b49190610b72565b60405180910390f35b6100c5610193565b6040516100d29190610b9c565b60405180910390f35b6100f560048036038101906100f09190610d5a565b6101bb565b005b6100ff610328565b005b610109610334565b6040516101169190610e2f565b60405180910390f35b61013960048036038101906101349190610e4a565b610345565b005b61015560048036038101906101509190610ec6565b6105a3565b005b610171600480360381019061016c9190610e4a565b610835565b005b60016020528060005260406000206000915054906101000a900460ff1681565b60007f0000000000000000000000000000000000000000000000000000000000000000905090565b6002600083815260200190815260200160002086908060018154018082558091505060019003906000526020600020016000909190919091509080519060200190610207929190610a15565b507f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff16633bc778e3848661026e8860405160200161025a9190610fc2565b6040516020818303038152906040526109ba565b867f0000000000000000000000000000000000000000000000000000000000000000876040518763ffffffff1660e01b81526004016102b296959493929190610fee565b60006040518083038186803b1580156102ca57600080fd5b505afa1580156102de573d6000803e3d6000fd5b505050507f63f2ecfeeec83f51b13b40c753e87cf599b2d368ed4e1baaf1cb2e37e1bfc746828760008860405161031894939291906110d8565b60405180910390a1505050505050565b61033260046109f1565b565b60006103406004610a07565b905090565b60008083815260200190815260200160002060009054906101000a900460ff161561039c576040517f5d904cb200000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b600160008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff1615610420576040517f6aa7da1600000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff16633bc778e3847f00000000000000000000000000000000000000000000000000000000000000006104a6896040516020016104929190611173565b6040516020818303038152906040526109ba565b867f0000000000000000000000000000000000000000000000000000000000000000876040518763ffffffff1660e01b81526004016104ea96959493929190610fee565b60006040518083038186803b15801561050257600080fd5b505afa158015610516573d6000803e3d6000fd5b50505050600160008084815260200190815260200160002060006101000a81548160ff02191690831515021790555060018060008773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055505050505050565b600160008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff1661062f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610626906111da565b60405180910390fd5b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff16633bc778e3847f00000000000000000000000000000000000000000000000000000000000000006106b5886040516020016106a19190610fc2565b6040516020818303038152906040526109ba565b867f0000000000000000000000000000000000000000000000000000000000000000876040518763ffffffff1660e01b81526004016106f996959493929190610fee565b60006040518083038186803b15801561071157600080fd5b505afa158015610725573d6000803e3d6000fd5b505050506002600083815260200190815260200160002087908060018154018082558091505060019003906000526020600020016000909190919091509080519060200190610775929190610a15565b50600360008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020879080600181540180825580915050600190039060005260206000200160009091909190915090805190602001906107ee929190610a15565b507f63f2ecfeeec83f51b13b40c753e87cf599b2d368ed4e1baaf1cb2e37e1bfc7468288878960405161082494939291906110d8565b60405180910390a150505050505050565b600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16156108b9576040517f7d93d32b00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff16633bc778e3857f000000000000000000000000000000000000000000000000000000000000000061093f8960405160200161092b9190611173565b6040516020818303038152906040526109ba565b867f0000000000000000000000000000000000000000000000000000000000000000876040518763ffffffff1660e01b815260040161098396959493929190610fee565b60006040518083038186803b15801561099b57600080fd5b505afa1580156109af573d6000803e3d6000fd5b505050505050505050565b60006008826040516020016109cf9190611241565b6040516020818303038152906040528051906020012060001c901c9050919050565b6001816000016000828254019250508190555050565b600081600001549050919050565b828054610a2190611287565b90600052602060002090601f016020900481019282610a435760008555610a8a565b82601f10610a5c57805160ff1916838001178555610a8a565b82800160010185558215610a8a579182015b82811115610a89578251825591602001919060010190610a6e565b5b509050610a979190610a9b565b5090565b5b80821115610ab4576000816000905550600101610a9c565b5090565b6000604051905090565b600080fd5b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000610af782610acc565b9050919050565b610b0781610aec565b8114610b1257600080fd5b50565b600081359050610b2481610afe565b92915050565b600060208284031215610b4057610b3f610ac2565b5b6000610b4e84828501610b15565b91505092915050565b60008115159050919050565b610b6c81610b57565b82525050565b6000602082019050610b876000830184610b63565b92915050565b610b9681610aec565b82525050565b6000602082019050610bb16000830184610b8d565b92915050565b600080fd5b600080fd5b6000601f19601f8301169050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b610c0a82610bc1565b810181811067ffffffffffffffff82111715610c2957610c28610bd2565b5b80604052505050565b6000610c3c610ab8565b9050610c488282610c01565b919050565b600067ffffffffffffffff821115610c6857610c67610bd2565b5b610c7182610bc1565b9050602081019050919050565b82818337600083830152505050565b6000610ca0610c9b84610c4d565b610c32565b905082815260208101848484011115610cbc57610cbb610bbc565b5b610cc7848285610c7e565b509392505050565b600082601f830112610ce457610ce3610bb7565b5b8135610cf4848260208601610c8d565b91505092915050565b6000819050919050565b610d1081610cfd565b8114610d1b57600080fd5b50565b600081359050610d2d81610d07565b92915050565b600080fd5b600081905082602060080282011115610d5457610d53610d33565b5b92915050565b6000806000806000806101a08789031215610d7857610d77610ac2565b5b600087013567ffffffffffffffff811115610d9657610d95610ac7565b5b610da289828a01610ccf565b965050602087013567ffffffffffffffff811115610dc357610dc2610ac7565b5b610dcf89828a01610ccf565b9550506040610de089828a01610d1e565b9450506060610df189828a01610d1e565b9350506080610e0289828a01610d1e565b92505060a0610e1389828a01610d38565b9150509295509295509295565b610e2981610cfd565b82525050565b6000602082019050610e446000830184610e20565b92915050565b60008060008060006101808688031215610e6757610e66610ac2565b5b6000610e7588828901610b15565b9550506020610e8688828901610d1e565b9450506040610e9788828901610d1e565b9350506060610ea888828901610d1e565b9250506080610eb988828901610d38565b9150509295509295909350565b60008060008060008060006101c0888a031215610ee657610ee5610ac2565b5b600088013567ffffffffffffffff811115610f0457610f03610ac7565b5b610f108a828b01610ccf565b975050602088013567ffffffffffffffff811115610f3157610f30610ac7565b5b610f3d8a828b01610ccf565b9650506040610f4e8a828b01610b15565b9550506060610f5f8a828b01610d1e565b9450506080610f708a828b01610d1e565b93505060a0610f818a828b01610d1e565b92505060c0610f928a828b01610d38565b91505092959891949750929550565b6000819050919050565b610fbc610fb782610cfd565b610fa1565b82525050565b6000610fce8284610fab565b60208201915081905092915050565b610fea6101008383610c7e565b5050565b60006101a0820190506110046000830189610e20565b6110116020830188610e20565b61101e6040830187610e20565b61102b6060830186610e20565b6110386080830185610e20565b61104560a0830184610fdd565b979650505050505050565b600081519050919050565b600082825260208201905092915050565b60005b8381101561108a57808201518184015260208101905061106f565b83811115611099576000848401525b50505050565b60006110aa82611050565b6110b4818561105b565b93506110c481856020860161106c565b6110cd81610bc1565b840191505092915050565b60006080820190506110ed6000830187610e20565b81810360208301526110ff818661109f565b905061110e6040830185610b8d565b8181036060830152611120818461109f565b905095945050505050565b60008160601b9050919050565b60006111438261112b565b9050919050565b600061115582611138565b9050919050565b61116d61116882610aec565b61114a565b82525050565b600061117f828461115c565b60148201915081905092915050565b7f55736572206861736e74206265656e2076657269666965640000000000000000600082015250565b60006111c460188361105b565b91506111cf8261118e565b602082019050919050565b600060208201905081810360008301526111f3816111b7565b9050919050565b600081519050919050565b600081905092915050565b600061121b826111fa565b6112258185611205565b935061123581856020860161106c565b80840191505092915050565b600061124d8284611210565b915081905092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b6000600282049050600182168061129f57607f821691505b6020821081036112b2576112b1611258565b5b5091905056fea2646970667358221220c5a1a81abd967caa39315c8426b16e197a0542e91cc0bca0d2f7f00098995d8064736f6c634300080d0033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100885760003560e01c80636b5f4d881161005b5780636b5f4d88146101015780636cc92dfc1461011f578063a2055b281461013b578063dfa3bfc51461015757610088565b80630961b61a1461008d57806313aad955146100bd5780632e812c98146100db578063376a2481146100f7575b600080fd5b6100a760048036038101906100a29190610b2a565b610173565b6040516100b49190610b72565b60405180910390f35b6100c5610193565b6040516100d29190610b9c565b60405180910390f35b6100f560048036038101906100f09190610d5a565b6101bb565b005b6100ff610328565b005b610109610334565b6040516101169190610e2f565b60405180910390f35b61013960048036038101906101349190610e4a565b610345565b005b61015560048036038101906101509190610ec6565b6105a3565b005b610171600480360381019061016c9190610e4a565b610835565b005b60016020528060005260406000206000915054906101000a900460ff1681565b60007f0000000000000000000000000000000000000000000000000000000000000000905090565b6002600083815260200190815260200160002086908060018154018082558091505060019003906000526020600020016000909190919091509080519060200190610207929190610a15565b507f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff16633bc778e3848661026e8860405160200161025a9190610fc2565b6040516020818303038152906040526109ba565b867f0000000000000000000000000000000000000000000000000000000000000000876040518763ffffffff1660e01b81526004016102b296959493929190610fee565b60006040518083038186803b1580156102ca57600080fd5b505afa1580156102de573d6000803e3d6000fd5b505050507f63f2ecfeeec83f51b13b40c753e87cf599b2d368ed4e1baaf1cb2e37e1bfc746828760008860405161031894939291906110d8565b60405180910390a1505050505050565b61033260046109f1565b565b60006103406004610a07565b905090565b60008083815260200190815260200160002060009054906101000a900460ff161561039c576040517f5d904cb200000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b600160008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff1615610420576040517f6aa7da1600000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff16633bc778e3847f00000000000000000000000000000000000000000000000000000000000000006104a6896040516020016104929190611173565b6040516020818303038152906040526109ba565b867f0000000000000000000000000000000000000000000000000000000000000000876040518763ffffffff1660e01b81526004016104ea96959493929190610fee565b60006040518083038186803b15801561050257600080fd5b505afa158015610516573d6000803e3d6000fd5b50505050600160008084815260200190815260200160002060006101000a81548160ff02191690831515021790555060018060008773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055505050505050565b600160008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff1661062f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610626906111da565b60405180910390fd5b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff16633bc778e3847f00000000000000000000000000000000000000000000000000000000000000006106b5886040516020016106a19190610fc2565b6040516020818303038152906040526109ba565b867f0000000000000000000000000000000000000000000000000000000000000000876040518763ffffffff1660e01b81526004016106f996959493929190610fee565b60006040518083038186803b15801561071157600080fd5b505afa158015610725573d6000803e3d6000fd5b505050506002600083815260200190815260200160002087908060018154018082558091505060019003906000526020600020016000909190919091509080519060200190610775929190610a15565b50600360008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020879080600181540180825580915050600190039060005260206000200160009091909190915090805190602001906107ee929190610a15565b507f63f2ecfeeec83f51b13b40c753e87cf599b2d368ed4e1baaf1cb2e37e1bfc7468288878960405161082494939291906110d8565b60405180910390a150505050505050565b600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16156108b9576040517f7d93d32b00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff16633bc778e3857f000000000000000000000000000000000000000000000000000000000000000061093f8960405160200161092b9190611173565b6040516020818303038152906040526109ba565b867f0000000000000000000000000000000000000000000000000000000000000000876040518763ffffffff1660e01b815260040161098396959493929190610fee565b60006040518083038186803b15801561099b57600080fd5b505afa1580156109af573d6000803e3d6000fd5b505050505050505050565b60006008826040516020016109cf9190611241565b6040516020818303038152906040528051906020012060001c901c9050919050565b6001816000016000828254019250508190555050565b600081600001549050919050565b828054610a2190611287565b90600052602060002090601f016020900481019282610a435760008555610a8a565b82601f10610a5c57805160ff1916838001178555610a8a565b82800160010185558215610a8a579182015b82811115610a89578251825591602001919060010190610a6e565b5b509050610a979190610a9b565b5090565b5b80821115610ab4576000816000905550600101610a9c565b5090565b6000604051905090565b600080fd5b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000610af782610acc565b9050919050565b610b0781610aec565b8114610b1257600080fd5b50565b600081359050610b2481610afe565b92915050565b600060208284031215610b4057610b3f610ac2565b5b6000610b4e84828501610b15565b91505092915050565b60008115159050919050565b610b6c81610b57565b82525050565b6000602082019050610b876000830184610b63565b92915050565b610b9681610aec565b82525050565b6000602082019050610bb16000830184610b8d565b92915050565b600080fd5b600080fd5b6000601f19601f8301169050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b610c0a82610bc1565b810181811067ffffffffffffffff82111715610c2957610c28610bd2565b5b80604052505050565b6000610c3c610ab8565b9050610c488282610c01565b919050565b600067ffffffffffffffff821115610c6857610c67610bd2565b5b610c7182610bc1565b9050602081019050919050565b82818337600083830152505050565b6000610ca0610c9b84610c4d565b610c32565b905082815260208101848484011115610cbc57610cbb610bbc565b5b610cc7848285610c7e565b509392505050565b600082601f830112610ce457610ce3610bb7565b5b8135610cf4848260208601610c8d565b91505092915050565b6000819050919050565b610d1081610cfd565b8114610d1b57600080fd5b50565b600081359050610d2d81610d07565b92915050565b600080fd5b600081905082602060080282011115610d5457610d53610d33565b5b92915050565b6000806000806000806101a08789031215610d7857610d77610ac2565b5b600087013567ffffffffffffffff811115610d9657610d95610ac7565b5b610da289828a01610ccf565b965050602087013567ffffffffffffffff811115610dc357610dc2610ac7565b5b610dcf89828a01610ccf565b9550506040610de089828a01610d1e565b9450506060610df189828a01610d1e565b9350506080610e0289828a01610d1e565b92505060a0610e1389828a01610d38565b9150509295509295509295565b610e2981610cfd565b82525050565b6000602082019050610e446000830184610e20565b92915050565b60008060008060006101808688031215610e6757610e66610ac2565b5b6000610e7588828901610b15565b9550506020610e8688828901610d1e565b9450506040610e9788828901610d1e565b9350506060610ea888828901610d1e565b9250506080610eb988828901610d38565b9150509295509295909350565b60008060008060008060006101c0888a031215610ee657610ee5610ac2565b5b600088013567ffffffffffffffff811115610f0457610f03610ac7565b5b610f108a828b01610ccf565b975050602088013567ffffffffffffffff811115610f3157610f30610ac7565b5b610f3d8a828b01610ccf565b9650506040610f4e8a828b01610b15565b9550506060610f5f8a828b01610d1e565b9450506080610f708a828b01610d1e565b93505060a0610f818a828b01610d1e565b92505060c0610f928a828b01610d38565b91505092959891949750929550565b6000819050919050565b610fbc610fb782610cfd565b610fa1565b82525050565b6000610fce8284610fab565b60208201915081905092915050565b610fea6101008383610c7e565b5050565b60006101a0820190506110046000830189610e20565b6110116020830188610e20565b61101e6040830187610e20565b61102b6060830186610e20565b6110386080830185610e20565b61104560a0830184610fdd565b979650505050505050565b600081519050919050565b600082825260208201905092915050565b60005b8381101561108a57808201518184015260208101905061106f565b83811115611099576000848401525b50505050565b60006110aa82611050565b6110b4818561105b565b93506110c481856020860161106c565b6110cd81610bc1565b840191505092915050565b60006080820190506110ed6000830187610e20565b81810360208301526110ff818661109f565b905061110e6040830185610b8d565b8181036060830152611120818461109f565b905095945050505050565b60008160601b9050919050565b60006111438261112b565b9050919050565b600061115582611138565b9050919050565b61116d61116882610aec565b61114a565b82525050565b600061117f828461115c565b60148201915081905092915050565b7f55736572206861736e74206265656e2076657269666965640000000000000000600082015250565b60006111c460188361105b565b91506111cf8261118e565b602082019050919050565b600060208201905081810360008301526111f3816111b7565b9050919050565b600081519050919050565b600081905092915050565b600061121b826111fa565b6112258185611205565b935061123581856020860161106c565b80840191505092915050565b600061124d8284611210565b915081905092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b6000600282049050600182168061129f57607f821691505b6020821081036112b2576112b1611258565b5b5091905056fea2646970667358221220c5a1a81abd967caa39315c8426b16e197a0542e91cc0bca0d2f7f00098995d8064736f6c634300080d0033",
  "devdoc": {
    "kind": "dev",
    "methods": {
      "constructor": {
        "params": {
          "_actionId": "The action ID for your application",
          "_worldId": "The WorldID instance that will verify the proofs"
        }
      },
      "submitNonVerifiedUserTx(string,string,uint256,uint256,uint256,uint256[8])": {
        "details": "if store is verified"
      },
      "submitVerifiedTx(string,string,address,uint256,uint256,uint256,uint256[8])": {
        "details": "iff user and store are both verified"
      }
    },
    "stateVariables": {
      "actionId": {
        "details": "The application's action ID"
      },
      "groupId": {
        "details": "The WorldID group ID (1)"
      },
      "nullifierHashes": {
        "details": "Whether a nullifier hash has been used already. Used to prevent double-signaling"
      },
      "worldId": {
        "details": "The WorldID instance that will be used for verifying proofs"
      }
    },
    "version": 1
  },
  "userdoc": {
    "errors": {
      "InvalidNullifier()": [
        {
          "notice": "Thrown when attempting to reuse a nullifier"
        }
      ]
    },
    "kind": "user",
    "methods": {},
    "version": 1
  },
  "storageLayout": {
    "storage": [
      {
        "astId": 120,
        "contract": "contracts/JomTx.sol:JomTx",
        "label": "nullifierHashes",
        "offset": 0,
        "slot": "0",
        "type": "t_mapping(t_uint256,t_bool)"
      },
      {
        "astId": 124,
        "contract": "contracts/JomTx.sol:JomTx",
        "label": "registeredUser",
        "offset": 0,
        "slot": "1",
        "type": "t_mapping(t_address,t_bool)"
      },
      {
        "astId": 129,
        "contract": "contracts/JomTx.sol:JomTx",
        "label": "storeTransactions",
        "offset": 0,
        "slot": "2",
        "type": "t_mapping(t_uint256,t_array(t_string_storage)dyn_storage)"
      },
      {
        "astId": 134,
        "contract": "contracts/JomTx.sol:JomTx",
        "label": "userTransactions",
        "offset": 0,
        "slot": "3",
        "type": "t_mapping(t_address,t_array(t_string_storage)dyn_storage)"
      },
      {
        "astId": 137,
        "contract": "contracts/JomTx.sol:JomTx",
        "label": "groupIds",
        "offset": 0,
        "slot": "4",
        "type": "t_struct(Counter)5_storage"
      }
    ],
    "types": {
      "t_address": {
        "encoding": "inplace",
        "label": "address",
        "numberOfBytes": "20"
      },
      "t_array(t_string_storage)dyn_storage": {
        "base": "t_string_storage",
        "encoding": "dynamic_array",
        "label": "string[]",
        "numberOfBytes": "32"
      },
      "t_bool": {
        "encoding": "inplace",
        "label": "bool",
        "numberOfBytes": "1"
      },
      "t_mapping(t_address,t_array(t_string_storage)dyn_storage)": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => string[])",
        "numberOfBytes": "32",
        "value": "t_array(t_string_storage)dyn_storage"
      },
      "t_mapping(t_address,t_bool)": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => bool)",
        "numberOfBytes": "32",
        "value": "t_bool"
      },
      "t_mapping(t_uint256,t_array(t_string_storage)dyn_storage)": {
        "encoding": "mapping",
        "key": "t_uint256",
        "label": "mapping(uint256 => string[])",
        "numberOfBytes": "32",
        "value": "t_array(t_string_storage)dyn_storage"
      },
      "t_mapping(t_uint256,t_bool)": {
        "encoding": "mapping",
        "key": "t_uint256",
        "label": "mapping(uint256 => bool)",
        "numberOfBytes": "32",
        "value": "t_bool"
      },
      "t_string_storage": {
        "encoding": "bytes",
        "label": "string",
        "numberOfBytes": "32"
      },
      "t_struct(Counter)5_storage": {
        "encoding": "inplace",
        "label": "struct Counters.Counter",
        "members": [
          {
            "astId": 4,
            "contract": "contracts/JomTx.sol:JomTx",
            "label": "_value",
            "offset": 0,
            "slot": "0",
            "type": "t_uint256"
          }
        ],
        "numberOfBytes": "32"
      },
      "t_uint256": {
        "encoding": "inplace",
        "label": "uint256",
        "numberOfBytes": "32"
      }
    }
  }
}